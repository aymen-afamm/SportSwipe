<?xml version="1.0" encoding="UTF-8"?>
<project version="4">
  <component name="CopilotDiffPersistence">
    <option name="pendingDiffs">
      <map>
        <entry key="$PROJECT_DIR$/app/src/main/java/com/sportmatch/app/ui/auth/LoginScreenCompose.kt">
          <value>
            <PendingDiffInfo>
              <option name="filePath" value="$PROJECT_DIR$/app/src/main/java/com/sportmatch/app/ui/auth/LoginScreenCompose.kt" />
              <option name="updatedContent" value="package com.sportmatch.app.ui.auth&#10;&#10;import androidx.compose.animation.core.animateFloatAsState&#10;import androidx.compose.animation.core.tween&#10;import androidx.compose.foundation.background&#10;import androidx.compose.foundation.layout.Arrangement&#10;import androidx.compose.foundation.layout.Box&#10;import androidx.compose.foundation.layout.Column&#10;import androidx.compose.foundation.layout.Spacer&#10;import androidx.compose.foundation.layout.fillMaxSize&#10;import androidx.compose.foundation.layout.fillMaxWidth&#10;import androidx.compose.foundation.layout.height&#10;import androidx.compose.foundation.layout.padding&#10;import androidx.compose.foundation.layout.size&#10;import androidx.compose.foundation.rememberScrollState&#10;import androidx.compose.foundation.verticalScroll&#10;import androidx.compose.material3.CircularProgressIndicator&#10;import androidx.compose.material3.MaterialTheme&#10;import androidx.compose.material3.Text&#10;import androidx.compose.material3.TextButton&#10;import androidx.compose.runtime.Composable&#10;import androidx.compose.runtime.LaunchedEffect&#10;import androidx.compose.runtime.collectAsState&#10;import androidx.compose.runtime.getValue&#10;import androidx.compose.runtime.mutableStateOf&#10;import androidx.compose.runtime.remember&#10;import androidx.compose.runtime.setValue&#10;import androidx.compose.ui.Alignment&#10;import androidx.compose.ui.Modifier&#10;import androidx.compose.ui.draw.alpha&#10;import androidx.compose.ui.graphics.Brush&#10;import androidx.compose.ui.text.font.FontWeight&#10;import androidx.compose.ui.text.input.PasswordVisualTransformation&#10;import androidx.compose.ui.text.style.TextAlign&#10;import androidx.compose.ui.text.style.TextDecoration&#10;import androidx.compose.ui.tooling.preview.Preview&#10;import androidx.hilt.navigation.compose.hiltViewModel&#10;import com.sportmatch.app.ui.components.PrimaryButton&#10;import com.sportmatch.app.ui.components.SportTextField&#10;import com.sportmatch.app.ui.theme.Dimens&#10;import com.sportmatch.app.ui.theme.Primary&#10;import com.sportmatch.app.ui.theme.Tertiary&#10;import com.sportmatch.app.ui.theme.SportMatchTheme&#10;import com.sportmatch.app.ui.viewmodel.AuthViewModel&#10;&#10;/**&#10; * LoginScreen - Email/password authentication screen.&#10; * Features email and password inputs with validation feedback.&#10; *&#10; * @param onNavigateToSignup Callback to navigate to signup screen&#10; * @param onLoginSuccess Callback when login completes successfully&#10; * @param viewModel AuthViewModel for handling authentication logic&#10; */&#10;@Composable&#10;fun LoginScreen(&#10;    onNavigateToSignup: () -&gt; Unit,&#10;    onLoginSuccess: () -&gt; Unit,&#10;    viewModel: AuthViewModel = hiltViewModel()&#10;) {&#10;    var email by remember { mutableStateOf(&quot;&quot;) }&#10;    var password by remember { mutableStateOf(&quot;&quot;) }&#10;    var emailError by remember { mutableStateOf(false) }&#10;    var passwordError by remember { mutableStateOf(false) }&#10;    &#10;    // Collect UI state from ViewModel&#10;    val uiState by viewModel.uiState.collectAsState()&#10;    val isLoading = uiState is AuthUiState.Loading&#10;&#10;    val fadeInAlpha by animateFloatAsState(&#10;        targetValue = 1f,&#10;        animationSpec = tween(600),&#10;        label = &quot;fade_in&quot;&#10;    )&#10;&#10;    LaunchedEffect(uiState) {&#10;        if (uiState is AuthUiState.Success) {&#10;            onLoginSuccess()&#10;        }&#10;    }&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .background(MaterialTheme.colorScheme.background)&#10;            .alpha(fadeInAlpha)&#10;    ) {&#10;        Column(&#10;            modifier = Modifier&#10;                .fillMaxSize()&#10;                .verticalScroll(rememberScrollState())&#10;                .padding(horizontal = Dimens.screen_padding_horizontal)&#10;                .padding(vertical = Dimens.screen_padding_vertical),&#10;            horizontalAlignment = Alignment.CenterHorizontally,&#10;            verticalArrangement = Arrangement.Center&#10;        ) {&#10;            Spacer(modifier = Modifier.weight(0.3f))&#10;&#10;            // Logo/Icon Placeholder&#10;            Box(&#10;                modifier = Modifier&#10;                    .size(Dimens.avatar_size_extra_large)&#10;                    .background(&#10;                        brush = Brush.linearGradient(&#10;                            colors = listOf(Primary, Tertiary)&#10;                        ),&#10;                        shape = MaterialTheme.shapes.extraLarge&#10;                    )&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(Dimens.extra_large))&#10;&#10;            // Welcome Text&#10;            Text(&#10;                text = &quot;Welcome Back&quot;,&#10;                style = MaterialTheme.typography.displaySmall,&#10;                fontWeight = FontWeight.Bold,&#10;                color = MaterialTheme.colorScheme.onBackground,&#10;                textAlign = TextAlign.Center&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(Dimens.small))&#10;&#10;            Text(&#10;                text = &quot;Sign in to continue finding sports partners&quot;,&#10;                style = MaterialTheme.typography.bodyLarge,&#10;                color = MaterialTheme.colorScheme.onSurfaceVariant,&#10;                textAlign = TextAlign.Center&#10;            )&#10;&#10;            Spacer(modifier = Modifier.height(Dimens.extra_large))&#10;&#10;            // Email Input&#10;            SportTextField(&#10;                value = email,&#10;                onValueChange = { &#10;                    email = it&#10;                    emailError = false&#10;                },&#10;                placeholder = &quot;Email address&quot;,&#10;                modifier = Modifier.fillMaxWidth()&#10;            )&#10;            &#10;            if (emailError) {&#10;                Text(&#10;                    text = &quot;Please enter a valid email&quot;,&#10;                    style = MaterialTheme.typography.labelSmall,&#10;                    color = MaterialTheme.colorScheme.error,&#10;                    modifier = Modifier&#10;                        .align(Alignment.Start)&#10;                        .padding(top = Dimens.small)&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(Dimens.large))&#10;&#10;            // Password Input&#10;            SportTextField(&#10;                value = password,&#10;                onValueChange = { &#10;                    password = it&#10;                    passwordError = false&#10;                },&#10;                placeholder = &quot;Password&quot;,&#10;                modifier = Modifier.fillMaxWidth()&#10;            )&#10;            &#10;            if (passwordError) {&#10;                Text(&#10;                    text = &quot;Password must be at least 6 characters&quot;,&#10;                    style = MaterialTheme.typography.labelSmall,&#10;                    color = MaterialTheme.colorScheme.error,&#10;                    modifier = Modifier&#10;                        .align(Alignment.Start)&#10;                        .padding(top = Dimens.small)&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(Dimens.extra_large))&#10;&#10;            // Login Button&#10;            if (isLoading) {&#10;                CircularProgressIndicator(&#10;                    modifier = Modifier.size(Dimens.icon_size_large),&#10;                    color = Primary&#10;                )&#10;            } else {&#10;                PrimaryButton(&#10;                    text = &quot;Login&quot;,&#10;                    onClick = {&#10;                        // Validate inputs&#10;                        emailError = email.isEmpty() || !email.contains(&quot;@&quot;)&#10;                        passwordError = password.length &lt; 6&#10;                        &#10;                        if (!emailError &amp;&amp; !passwordError) {&#10;                            viewModel.loginWithEmail(email, password)&#10;                        }&#10;                    },&#10;                    enabled = email.isNotEmpty() &amp;&amp; password.isNotEmpty()&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(Dimens.large))&#10;&#10;            // Forgot Password Link&#10;            TextButton(onClick = { /* TODO: Implement forgot password */ }) {&#10;                Text(&#10;                    text = &quot;Forgot Password?&quot;,&#10;                    style = MaterialTheme.typography.bodyMedium,&#10;                    color = Primary,&#10;                    textDecoration = TextDecoration.Underline&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.weight(1f))&#10;&#10;            // Signup Link&#10;            Text(&#10;                text = &quot;Don't have an account?&quot;,&#10;                style = MaterialTheme.typography.bodyMedium,&#10;                color = MaterialTheme.colorScheme.onSurfaceVariant&#10;            )&#10;&#10;            TextButton(onClick = onNavigateToSignup) {&#10;                Text(&#10;                    text = &quot;Create Account&quot;,&#10;                    style = MaterialTheme.typography.bodyMedium,&#10;                    color = Primary,&#10;                    fontWeight = FontWeight.SemiBold,&#10;                    textDecoration = TextDecoration.Underline&#10;                )&#10;            }&#10;&#10;            Spacer(modifier = Modifier.height(Dimens.large))&#10;        }&#10;    }&#10;}&#10;&#10;// Placeholder for AuthUiState - define in ViewModel&#10;sealed class AuthUiState {&#10;    object Idle : AuthUiState()&#10;    object Loading : AuthUiState()&#10;    object Success : AuthUiState()&#10;    data class Error(val message: String) : AuthUiState()&#10;}&#10;&#10;@Preview(showBackground = true)&#10;@Composable&#10;fun LoginScreenPreview() {&#10;    SportMatchTheme {&#10;        LoginScreen(&#10;            onNavigateToSignup = { },&#10;            onLoginSuccess = { }&#10;        )&#10;    }&#10;}&#10;" />
            </PendingDiffInfo>
          </value>
        </entry>
      </map>
    </option>
  </component>
</project>